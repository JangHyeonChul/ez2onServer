<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="com.example.ez2onservertest.domain.comment.CommentMapper">

    <insert id="insertComment" parameterType="hashmap">
        INSERT INTO comment(re_num, co_content, co_level)
        VALUES (#{musicnumber}, #{content}, #{level})
    </insert>

    <select id="selectComments" resultType="com.example.ez2onservertest.domain.comment.CommentDTO">
        SELECT *
        FROM comment
        WHERE re_num = #{musicNumber}
        LIMIT #{offset}, 10
    </select>

    <select id="countComments" resultType="int" parameterType="int">
        SELECT count(*)
        FROM comment
        WHERE re_num = #{musicNumber}
    </select>


</mapper>